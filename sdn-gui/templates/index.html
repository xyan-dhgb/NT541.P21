<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Network Topology Form</title>
    <style>
      /* Toàn bộ body */
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: #f4f4f4;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      /* Container chính */
      .container {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        width: 90%;
        max-width: 1200px;
        gap: 20px;
      }

      /* Form Section và Tree Section */
      .form-section,
      .tree-section {
        flex: 1;
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        overflow-y: auto; /* Thêm thanh cuộn nếu nội dung quá dài */
        max-height: 80vh; /* Giới hạn chiều cao */
      }

      /* Form Section */
      .form-section {
        text-align: left;
      }

      h1 {
        text-align: center;
        margin-bottom: 20px;
        color: #333;
        font-size: 2rem; /* Base font size */
      }

      /* Tree Section */
      .tree-section {
        text-align: left;
        font-family: Arial, sans-serif;
        font-size: 14px;
        color: #333;
      }

      .tree-section h2 {
        text-align: center;
        color: black;
        margin-bottom: 20px;
        font-size: 1.8rem; /* Base font size */
      }

      .tree-section .switch {
        font-weight: bold;
        color: #ff4500;
        margin-bottom: 10px;
      }

      .tree-section .node {
        margin-left: 20px;
        padding: 5px 0;
      }

      .tree-section .user {
        margin-left: 40px;
      }

      .tree-section .teacher {
        color: green;
      }

      .tree-section .student {
        color: orange;
      }

      /* Input và Button */
      input {
        margin-bottom: 10px;
        padding: 10px;
        width: 100%;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      button {
        padding: 10px 20px;
        background: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      button[type="submit"] {
        width: 100%;
        box-sizing: border-box;
        margin-top: 20px;
      }

      button:hover {
        background: #0056b3;
        transition-duration: 0.5s;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .container {
          flex-direction: column;
          align-items: center;
          padding-top: 20px; /* Thêm khoảng cách ở trên */
        }

        .form-section,
        .tree-section {
          width: 100%;
          max-height: none; /* Bỏ giới hạn chiều cao */
        }

        body {
          height: auto; /* Thay vì 100vh */
          min-height: 100vh; /* Đảm bảo ít nhất bằng chiều cao màn hình */
          padding: 20px 0; /* Thêm padding trên dưới */
        }

        h1 {
          font-size: 1.5rem;
          margin-top: 0; /* Đảm bảo không có margin phía trên */
        }
      }

      @media (max-width: 480px) {
        h1 {
          font-size: 1.3rem;
        }

        .tree-section h2 {
          font-size: 1.2rem;
        }
      }

      h3,
      h4 {
        margin-top: 20px;
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Form Section -->
      <div class="form-section">
        <h1>SDN Virtual Network Builder</h1>
        <form method="POST">
          <h3>Thêm khoa</h3>
          <input name="khoa" placeholder="Tên khoa (CNTT, Kiến Trúc)" /><br />
          <input name="vxlan_id" placeholder="VXLAN ID (vd: 101)" /><br />

          <h4>Giảng viên</h4>
          <input name="teacher_name" placeholder="Tên giảng viên" /><br />
          <input name="teacher_ip" placeholder="IP giảng viên" /><br />

          <h4>Sinh viên</h4>
          <input name="student_name" placeholder="Tên sinh viên" /><br />
          <input name="student_ip" placeholder="IP sinh viên" /><br />

          <button type="submit">Thêm Khoa</button>
        </form>
      </div>

      <!-- Tree Section -->
      <div class="tree-section">
        <h2>Cấu trúc mạng ảo:</h2>
        <div class="switch">{{ topology.core.name }}</div>
        {% for dist in topology.core.children %}
        <div class="switch">↳ {{ dist.name }} (VXLAN {{ dist.vxlan_id }})</div>
        {% for user in dist.users %}
        <div class="user {{ user.role }}">
          • {{ user.name }} – {{ user.role }} – {{ user.ip }}
        </div>
        {% endfor %} {% endfor %}
      </div>
    </div>
  </body>
</html>
